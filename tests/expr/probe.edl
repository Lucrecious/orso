// this caused an infinite loop because cgen generates the
// tmp variable stuff outside the loop
{
    x := 10;
    while { x = x - 1; x > 0; } {
        true;
    };

    x;
}